<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Example</title>
</head>
<body>

<h1>Ajax Example Project</h1>
<p id="para"> This is am example project for ajax</p>

<button id="ajax-button">Send a ajax Request</button>

<section id="table">
    <table id="tbl">
        <thead>
        <tr>
            <th>Post_ID</th>
            <th>ID</th>
            <th>Title</th>
            <th>Body</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td id="Post_Id"></td>
            <td id="id"></td>
            <td id="name"></td>
            <td id="email"></td>
        </tr>
        </tbody>
    </table>
</section>


<script src="assests/js/jquery-3.7.1.min.js"></script>

<!--<script>
    $('#ajax-button').click(function (){
        //console.log("button is worked")
        console.log("Request Started")
        var http = new  XMLHttpRequest();
        console.log(http.readyState, 'After the XMLHttpRequest Object Created') //status thiyana than readyState krnw [Status- server eken en response ek, Readustate- request eke object eke curret status ek]
        //XMLRequest open meyjod required two arguments (Method and URL)
        //method - purpose of the request (GET , POST, PUT, DELETE, etc...)
        //url - destination of the request

      // http.open('GET', 'images/img.png');
        http.open('GET', 'db/db.txt', /*false*/);
       /* console.log(http.readyState, 'After the Open Method Invoked')
        console.log(http.responseText);
        console.log(http.readyState, 'After the Response Text Printed');  //response eke status eka penne
        http.send();
        console.log(http.readyState, 'After the send Method Invoked')*/
        http.send();
        http.onreadystatechange = function() {
           // console.log("test")
            console.log(http.readyState, 'Inside on ready state Change event');
            console.log(http.responseText);
            console.log(http.status);
            if(http.readyState === 4 && http.status === 200){
               //$('#para').html('<img src="images/img.png">')
               // $('#para').attr('src','images/img.jpg').show();
                $('#para').text(http.responseText)
            } else {
                console.log("Request Failed")
            }
          //  $('#para').text(http.responseText);
        }
        console.log("Request Finished")
    });
</script>-->

<!--<script>
    //synchronous
    console.log("smart");
    console.log("midle");
    console.log("end");

    //asynchronous
    console.log("start");
    setTimeout(()=>{
        console.log("midle");
    },2000);
    console.log("end");
</script>-->
<!--<script>
    $('#ajax-button').click(function (){
        console.log("started");
        $.ajax({
           /* url: 'https://jsonplaceholder.typicode.com/comments/1',
            method: 'GET',
           // async:false,
            success: function (response){
                //$('#para').text(response);
                console.log(response)
            },
            error: function (error){
                console.log(error);
            }
        })
        console.log('ended')
    })*/
            url: 'https://jsonplaceholder.typicode.com/posts',
            async: false,
            success: function(response) {
                var tbody = $('#tbl tbody');
                tbody.empty(); //
                response.forEach(function(item) {
                    var row = '<tr>' +
                        '<td>' + item.Post_ID + '</td>' +
                        '<td>' + item.ID + '</td>' +
                        '<td>' + item.name + '</td>' +
                        '<td>' + item.email + '</td>' +
                        '</tr>';
                    tbody.append(row);
                });
                console.log('Data loaded successfully');
            },
            error: function(error) {
                console.log(error);
            }
        });
        console.log('Request finished');
    });
</script>-->

<!--
<script>
    $('#ajax-button').click(function () {
        console.log("Request started");
        $.ajax({
            url: 'https://jsonplaceholder.typicode.com/posts',
            method: 'GET',
            success: function (response) {
                var tbody = $('#tbl tbody');
                tbody.empty(); // Clear any existing rows

                response.forEach(function (item) {
                    var row = '<tr>' +
                        '<td>' + item.userId + '</td>' +
                        '<td>' + item.id + '</td>' +
                        '<td>' + item.title + '</td>' +
                        '<td>' + item.body + '</td>' +
                        '</tr>';
                    tbody.append(row);
                });
                console.log('Data loaded successfully');
            },
            error: function (error) {
                console.log("Error occurred:", error);
            }
        });
        console.log('Request finished');
    });-
</script>
-->

<script>
    $('#ajax-button').click(function () {
        console.log("Request started");
        $.ajax({
           // url: 'https://jsonplaceholder.typicode.com/posts',
            url: 'http://localhost:8080/newServlet_Web_exploded/Isha',
            method: 'GET',
            success: function (response) {
                var tbody = $('#tbl tbody');
                tbody.empty(); // Clear any existing rows

                response.forEach(function (item) {
                    var row = '<tr>' +
                        '<td>' + item.userId + '</td>' +
                        '<td>' + item.id + '</td>' +
                        '<td>' + item.title + '</td>' +
                        '<td>' + item.body + '</td>' +
                        '</tr>';
                    tbody.append(row);
                });
                console.log('Data loaded successfully');
            },
            error: function (error) {
                console.log("Error occurred:", error);
            }
        });
        console.log('Request finished');
    });
</script>

<!--<script>
    $('#ajax-button').click(function (){
        console.log("started");
        $.ajax({
     url: 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js',
     method: 'GET',
    // async:false,
     success: function (response){
         $('#para').text(response);
         console.log(response)
     },
     error: function (error){
         console.log(error);
     }
 })
 console.log('ended')
})
</script>-->

</body>
</html>